<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="format-detection" content="telephone=no" />
  <script src="/js/index.js" async></script>
  <link rel="stylesheet" href="../../css/menu.css" />
  <link rel="stylesheet" href="../../ver/howto.css" />
  <style>
  #howto details {
    max-width: 750px;
    margin: auto;
  }

  #howto meter {
    width: 100%;
    height: 350px;
  }

  #howto meter::-webkit-meter-horizontal-bar {
    border: double 5px #000;
  }

  @media screen and (max-width: 750px) {
    #howto meter {
      height: 45vw;
    }
  }
  </style>
</head>
<body ononline="update(true)" onoffline="update(false)" onload="update(navigator.onLine)">
  <header id="menu" hidden>
    <button id="js-button"><b></b></button>
    <nav id="contents">
      <a href="/profile/" target="_parent">
        <p><b>The Information About Network & Browser</b></p>
        <u>通信情報／ブラウザ等情報</u>
      </a>
    </nav>
  </header>
  <script src="/js/menu.js"></script>
  <article id="howto">
    <details>
      <summary>
        <font id="status">(Online or Offline?)</font>
      </summary>
      <p>オンライン状態によって、#status のテキストを変更する</p>
      <pre>
body ononline="update(true)" onoffline="update(false)" onload="update(navigator.onLine)"
      </pre>
      <pre>
function update(online) {
  document.querySelector('#status').textContent =
  online ? 'Online' : 'Offline';
}
      </pre>
      <aside id="links">
        <a href="https://developer.mozilla.org/ja/docs/Web/API/Navigator/onLine">
          <i>Navigator.onLine</i>
          <p>ブラウザーのオンライン状態を返すプロパティ</p>
        </a>
        <a href="https://developer.mozilla.org/ja/docs/Web/API/Window/online_event">
          <i>ononline</i>
          <p>addEventListener('online', (event) => { });</p>
        </a>
        <a href="https://developer.mozilla.org/ja/docs/Web/API/Window/offline_event">
          <i>onoffline</i>
          <p>addEventListener('offline', (event) => { });</p>
        </a>
      </aside>
    </details>
    <br/>
    <details>
      <summary id="network">navigator.connection</summary>
      <p>ネットワーク接続情報を #network に表示する</p>
      <br/>
      <pre>
const connectionInfo = navigator.connection;
if (connectionInfo !== undefined) {
  const init = function() {
    document.getElementById('network').innerHTML =
    'Network Type <b>' + connectionInfo.effectiveType + '</b> <b>' + connectionInfo.type + '</b> | '
    + 'Downlink <b>' + connectionInfo.downlink + '</b> Mb/s | '
    + 'RTT <b>'+ connectionInfo.rtt + '</b> ms'
  }
  init()

  if ('onchange' in connectionInfo) {
    connectionInfo.addEventListener('change', init)
  } else if ('ontypechange' in connectionInfo) {
    connectionInfo.addEventListener('typechange', init)
  }
}
      </pre>
      <br/>
      <aside id="links">
        <a href="https://developer.mozilla.org/ja/docs/Web/API/Network_Information_API">
          <i>Network Information API</i>
          <p>ネットワーク情報 API</p>
        </a>
        <a href="https://developer.mozilla.org/ja/docs/Web/API/NetworkInformation/effectiveType">
          <i>NetworkInformation.effectiveType</i>
          <p>'slow-2g', '2g', '3g', '4g' のいずれかを意味する接続の有効な種類</p>
        </a>
        <a href="https://developer.mozilla.org/ja/docs/Web/API/NetworkInformation/type">
          <i>NetworkInformation.type</i>
          <p>端末がネットワーク通信に使用している接続の種類</p>
        </a>
        <a href="https://developer.mozilla.org/ja/docs/Web/API/NetworkInformation/downlink">
          <i>NetworkInformation.downlink</i>
          <p>実効帯域幅の推定値 (メガビット毎秒)</p>
        </a>
        <a href="https://developer.mozilla.org/ja/docs/Web/API/NetworkInformation/rtt">
          <i>NetworkInformation.rtt</i>
          <p>推定有効ラウンドトリップ時間を、25 ミリ秒の倍数に丸めた値</p>
        </a>
        <a href="https://developer.mozilla.org/ja/docs/Web/API/NetworkInformation/change_event">
          <i>change イベント</i>
          <p>接続情報が変更されたときに発行されるイベント</p>
        </a>
      </aside>
    </details>
    <br/>
    <details>
      <summary id="navigator"></summary>
      <p>端末のおよそのメモリ量／論理プロセッサーのコア数を #navigator に表示する</p>
      <br/>
      <pre>
const memory = navigator.deviceMemory;
const hardware = navigator.hardwareConcurrency;
document.querySelector('#navigator').innerHTML = `This Device has at least <b>${memory}</b> GiB of RAM | <b>${hardware}</b> CPU available.`;
      </pre>
      <br/>
      <aside id="links">
        <a href="https://developer.mozilla.org/ja/docs/Web/API/Navigator/deviceMemory">
          <i>navigator.deviceMemory</i>
          <p>端末のおよそのメモリ量 (ギガバイト単位)</p>
        </a>
        <a href="https://developer.mozilla.org/ja/docs/Web/API/Navigator/hardwareConcurrency">
          <i>navigator.hardwareConcurrency</i>
          <p>論理プロセッサーのコア数を示す数値</p>
        </a>
      </aside>
    </details>
  </article>
  <script src="navigator.js" defer></script>
</body>
</html>
